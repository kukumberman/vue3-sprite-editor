{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue","webpack:///./src/components/FileView.vue","webpack:///./src/components/FileView.vue?fd3b","webpack:///./src/components/GridView.vue","webpack:///./src/components/GridView.vue?7e1c","webpack:///./src/components/FooterView.vue","webpack:///./src/components/FooterView.vue?2180","webpack:///./src/utils/AtlasCreator.js","webpack:///./src/App.vue?f0db","webpack:///./src/main.js","webpack:///./src/style.css?03a7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","_createElementVNode","_createVNode","_component_FileView","files","$data","onOnFilesDrop","$options","onOnFilesUploaded","onClickRemoveFile","onClearClick","onOnFileDragEnd","_hoisted_3","type","x","$event","min","_hoisted_4","y","_hoisted_6","step","max","_hoisted_7","_hoisted_8","grid","_hoisted_9","background","_hoisted_10","_hoisted_11","onClick","disabled","_hoisted_12","_hoisted_13","_hoisted_14","_component_GridView","sprite","pivot","display","_component_FooterView","link","onChange","ref","accept","multiple","id","onDrop","onDragover","preventDefault","_component_draggable","$props","item-key","onEnd","tag","item","element","index","_toDisplayString","_createElementBlock","emits","props","Array","required","components","draggable","methods","dropzoneClickHandler","this","$refs","fileInput","click","onFilesDrop","event","$emit","dataTransfer","onFilesUploaded","target","clickRemoveFile","clearClick","onFileDragEnd","__exports__","style","src","image","alt","visible","_Fragment","_renderList","computed","frame","size","framesCount","pivotPosition","left","top","frameSize","width","height","atlasSize","gridTemplate","href","_hoisted_1","String","nextPow2","e","Math","ceil","log","pow","AtlasCreator","buffers","useNextPow2","w","images","map","bitmap","h","offset","Promise","all","b","Jimp","read","calculateFrame","options","jimp","img","getOffset","position","composite","getBase64Async","MIME_PNG","createGrid","readFileAsBuffer","file","resolve","reject","reader","FileReader","readAsArrayBuffer","onload","FileView","GridView","FooterView","autoUpdate","save","Blob","fileName","Date","now","fileSaver","saveAs","error","console","alert","fileList","fetchFiles","promises","from","f","buffer","tryUpdate","setDefaults","filesAsBuffers","applyDisplay","atlas","createHorizontal","createVertical","watch","hasNoFiles","render","createApp","App","mount"],"mappings":"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","file":"js/app.8032b8a4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/vue3-sprite-editor/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <FileView\n    :files=\"files\"\n    @onFilesDrop=\"onFilesDrop\"\n    @onFilesUploaded=\"onFilesUploaded\"\n    @clickRemoveFile=\"clickRemoveFile\"\n    @clearClick=\"clearClick\"\n    @onFileDragEnd=\"onFileDragEnd\"\n  />\n\n  <div class=\"settings-container\">\n    \n    <div class=\"settings-grid\">\n      <div>\n        <span>Grid X</span>\n        <input type=\"number\" v-model=\"grid.x\" min=\"0\">\n      </div>\n      <div>\n        <span>Grid Y</span>\n        <input type=\"number\" v-model=\"grid.y\" min=\"0\">\n      </div>\n    </div>\n\n    <div class=\"settings-pivot\">\n      <div>\n        <span>Pivot X</span>\n        <input type=\"number\" v-model=\"pivot.x\" step=\"0.1\" min=\"0\" max=\"1\">\n      </div>\n      <div>\n        <span>Pivot Y</span>\n        <input type=\"number\" v-model=\"pivot.y\" step=\"0.1\" min=\"0\" max=\"1\">\n      </div>\n    </div>\n\n    <div>\n      <span>Show Grid</span>\n      <input type=\"checkbox\" v-model=\"display.grid\">\n    </div>\n    <div>\n      <span>Display Background</span>\n      <input type=\"checkbox\" v-model=\"display.background\">\n    </div>\n    <div>\n      <span>useNextPow2</span>\n      <input type=\"checkbox\" v-model=\"useNextPow2\">\n    </div>\n    <div>\n      <span>autoUpdate</span>\n      <input type=\"checkbox\" v-model=\"autoUpdate\">\n    </div>\n\n    <div>\n      <button @click=\"createGrid\" :disabled=\"hasNoFiles\">Pack grid</button>\n      <button @click=\"createHorizontal\" :disabled=\"hasNoFiles\">Pack horizontal</button>\n      <button @click=\"createVertical\" :disabled=\"hasNoFiles\">Pack vertical</button>\n    </div>\n    \n  </div>\n\n  <GridView\n    :sprite=\"sprite\"\n    :grid=\"grid\"\n    :pivot=\"pivot\"\n    :display=\"display\"\n  />\n\n  <div>\n    <button @click=\"save\">Save</button>\n  </div>\n\n  <FooterView link=\"https://github.com/kukumberman/vue3-sprite-editor\" />\n</template>\n\n<script>\nimport fileSaver from \"file-saver\"\nimport FileView from \"./components/FileView.vue\"\nimport GridView from \"./components/GridView.vue\"\nimport FooterView from \"./components/FooterView.vue\"\nimport AtlasCreator from \"./utils/AtlasCreator\"\n\nfunction readFileAsBuffer(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.readAsArrayBuffer(file)\n    reader.onload = () => resolve(reader.result)\n  })\n}\n\nexport default {\n  name: 'App',\n  components: {\n    FileView,\n    GridView,\n    FooterView,\n  },\n  data() {\n    return {\n      sprite: {\n        image: \"./images/placeholder.png\",\n        size: {\n          x: 500,\n          y: 500\n        },\n      },\n      grid: {\n        x: 2,\n        y: 2\n      },\n      pivot: {\n        x: 0.5,\n        y: 0.5\n      },\n      files: [],\n      display: {\n        grid: true,\n        background: true,\n      },\n      useNextPow2: true,\n      autoUpdate: true,\n    }\n  },\n  methods: {\n    save() {\n      try {\n        const isSupported = !!new Blob\n        const fileName = `image-${Date.now()}.png`\n        fileSaver.saveAs(this.sprite.image, fileName)\n      }\n      catch(error) {\n        console.log(error)\n        alert(\"Looks like your browser doesn't support this feature ðŸ˜¢\")\n      }\n    },\n    onFilesUploaded(fileList) {\n      this.fetchFiles(fileList)\n    },\n    onFilesDrop(fileList) {\n      this.fetchFiles(fileList)\n    },\n    async fetchFiles(fileList) {\n      const promises = Array.from(fileList).map(async (f) => {\n        return {\n          name: f.name,\n          buffer: await readFileAsBuffer(f)\n        }\n      })\n      const files = await Promise.all(promises)\n      this.files.push(...files)\n      this.tryUpdate()\n    },\n    clickRemoveFile(index) {\n      this.files.splice(index, 1)\n      this.tryUpdate()\n    },\n    clearClick() {\n      this.files = []\n      this.setDefaults()\n    },\n    filesAsBuffers() {\n      return this.files.map(f => f.buffer)\n    },\n    applyDisplay(atlas) {\n      const { grid, frame, pivot } = atlas.options\n      this.grid.x = grid.x\n      this.grid.y = grid.y\n      this.sprite.size.x = grid.x * frame.width\n      this.sprite.size.y = grid.y * frame.height\n      this.pivot.x = pivot.x\n      this.pivot.y = pivot.y\n    },\n    async createHorizontal() {\n      const atlas = new AtlasCreator(this.filesAsBuffers(), this.useNextPow2)\n      const src = await atlas.createHorizontal(this.pivot)\n      this.sprite.image = src\n      this.applyDisplay(atlas)\n      console.log(\"createHorizontal\")\n    },\n    async createVertical() {\n      const atlas = new AtlasCreator(this.filesAsBuffers(), this.useNextPow2)\n      const src = await atlas.createVertical(this.pivot)\n      this.sprite.image = src\n      this.applyDisplay(atlas)\n      console.log(\"createVertical\")\n    },\n    async createGrid() {\n      const atlas = new AtlasCreator(this.filesAsBuffers(), this.useNextPow2)\n      const src = await atlas.createGrid(this.grid, this.pivot)\n      this.sprite.image = src\n      this.applyDisplay(atlas)\n      console.log(\"createGrid\")\n    },\n    onFileDragEnd(event, files) {\n      // temp bandaid - manually reasigning array\n      // todo: proper way of reordering based on event arguments\n      this.files = files\n      this.tryUpdate()\n    },\n    tryUpdate() {\n      if (!this.autoUpdate) {\n        return\n      }\n      if (this.files.length > 0) {\n        this.createGrid()\n      }\n      else {\n        this.setDefaults()\n      }\n    },\n    setDefaults() {\n      this.sprite.image = \"./images/placeholder.png\"\n      this.sprite.size = {\n        x: 500,\n        y: 500,\n      }\n      this.grid = {\n        x: 2,\n        y: 2\n      }\n      this.pivot = {\n        x: 0.5,\n        y: 0.5\n      }\n    }\n  },\n  watch: {\n    useNextPow2() {\n      this.tryUpdate()\n    },\n    \"grid.x\": function() {\n      this.tryUpdate()\n    },\n    \"grid.y\": function() {\n      this.tryUpdate()\n    },\n    \"pivot.x\": function() {\n      this.tryUpdate()\n    },\n    \"pivot.y\": function() {\n      this.tryUpdate()\n    }\n  },\n  computed: {\n    hasNoFiles() {\n      return this.files.length === 0\n    },\n  }\n}\n</script>\n\n<style src=\"./style.css\">\n</style>\n","<template>\r\n  <input type=\"file\" @change=\"onFilesUploaded\" ref=\"fileInput\" accept=\"image/png, image/jpeg\" multiple>\r\n\r\n  <div class=\"file-container\">\r\n    <div id=\"drop-zone\"\r\n      @click=\"dropzoneClickHandler\"\r\n      @drop=\"onFilesDrop\"\r\n      @dragover=\"$event.preventDefault()\"\r\n    >Drop file(s) or click here!</div>\r\n    \r\n    <!-- old unordered list -->\r\n    <!-- <ul>\r\n      <li v-for=\"(file, i) in files\" :key=\"i\">\r\n        <span>{{ file.name }}</span>\r\n        &nbsp;\r\n        <button @click=\"clickRemoveFile(i)\">Remove</button>\r\n      </li>\r\n    </ul> -->\r\n\r\n    <!-- new draggable list -->\r\n    <draggable\r\n      v-model=\"files\"\r\n      item-key=\"name\"\r\n      @end=\"onFileDragEnd\"\r\n      tag=\"ul\"\r\n    >\r\n      <template #item=\"{ element, index }\">\r\n        <li>\r\n          <span>{{ element.name }}</span>\r\n          &nbsp;\r\n          <button @click=\"clickRemoveFile(index)\">Remove</button>\r\n        </li>\r\n      </template>\r\n    </draggable>\r\n\r\n    <button @click=\"clearClick\" v-if=\"files.length > 0\">Clear</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport draggable from \"vuedraggable\"\r\n\r\nexport default {\r\n  emits: [\r\n    \"onFilesDrop\",\r\n    \"onFilesUploaded\",\r\n    \"clickRemoveFile\",\r\n    \"clearClick\",\r\n    \"onFileDragEnd\",\r\n  ],\r\n  props: {\r\n    files: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n  },\r\n  components: {\r\n    draggable,\r\n  },\r\n  methods: {\r\n    dropzoneClickHandler() {\r\n      this.$refs.fileInput.click()\r\n    },\r\n    onFilesDrop(event) {\r\n      event.preventDefault()\r\n      this.$emit(\"onFilesDrop\", event.dataTransfer.files)\r\n    },\r\n    onFilesUploaded(event) {\r\n      this.$emit(\"onFilesUploaded\", event.target.files)\r\n      event.target.value = \"\"\r\n    },\r\n    clickRemoveFile(index) {\r\n      this.$emit(\"clickRemoveFile\", index)\r\n    },\r\n    clearClick() {\r\n      this.$emit(\"clearClick\")\r\n    },\r\n    onFileDragEnd(event) {\r\n      this.$emit(\"onFileDragEnd\", event, this.files)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./FileView.vue?vue&type=template&id=68796629\"\nimport script from \"./FileView.vue?vue&type=script&lang=js\"\nexport * from \"./FileView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\dev\\\\github\\\\web-development\\\\vue3-sprite-editor\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"atlas-container\" :class=\"{ 'bg': display.background }\" :style=\"atlasSize\">\r\n    <img :src=\"sprite.image\" alt=\"atlas\" :style=\"atlasSize\">\r\n\r\n    <div class=\"grid\" :class=\"{ visible: display.grid }\" :style=\"gridTemplate\">\r\n      <div\r\n        class=\"frame\"\r\n        v-for=\"i in framesCount\"\r\n        :key=\"i\"\r\n        :style=\"frameSize\"\r\n      >\r\n        <div class=\"circle\">\r\n          <span>{{ i }}</span>\r\n        </div>\r\n        <div\r\n          class=\"pivot\"\r\n          :style=\"pivotPosition\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    sprite: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    grid: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    pivot: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    display: {\r\n      type: Object,\r\n      required: true,\r\n    }\r\n  },\r\n  computed: {\r\n    frame() {\r\n      return {\r\n        x: this.sprite.size.x / this.grid.x,\r\n        y: this.sprite.size.y / this.grid.y\r\n      }\r\n    },\r\n    framesCount() {\r\n      return this.grid.x * this.grid.y\r\n    },\r\n    pivotPosition() {\r\n      return {\r\n        left: `calc(${this.pivot.x} * 100%)`,\r\n        top: `calc(${this.pivot.y} * 100%)`\r\n      }\r\n    },\r\n    frameSize() {\r\n      return {\r\n        width: `${this.frame.x}px`,\r\n        height: `${this.frame.y}px`\r\n      }\r\n    },\r\n    atlasSize() {\r\n      return {\r\n        width: `${this.sprite.size.x}px`,\r\n        height: `${this.sprite.size.y}px`\r\n      }\r\n    },\r\n    gridTemplate() {\r\n      return {\r\n        \"grid-template-columns\": `repeat(${this.grid.x}, 1fr)`,\r\n        \"grid-template-rows\": `repeat(${this.grid.y}, 1fr)`,\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./GridView.vue?vue&type=template&id=0e9dc34c\"\nimport script from \"./GridView.vue?vue&type=script&lang=js\"\nexport * from \"./GridView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\dev\\\\github\\\\web-development\\\\vue3-sprite-editor\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <a :href=\"link\" target=\"_blank\">{{ link }}</a>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    link: {\r\n      type: String,\r\n      required: true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./FooterView.vue?vue&type=template&id=4e042bfe\"\nimport script from \"./FooterView.vue?vue&type=script&lang=js\"\nexport * from \"./FooterView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\dev\\\\github\\\\web-development\\\\vue3-sprite-editor\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import Jimp from \"jimp\"\r\n\r\nfunction nextPow2 (value) {\r\n  const e = Math.ceil(Math.log(value) / Math.log(2))\r\n  return Math.pow(2, e)\r\n}\r\n\r\nexport default class AtlasCreator {\r\n  constructor(buffers, useNextPow2) {\r\n    this.buffers = buffers\r\n    this.useNextPow2 = useNextPow2\r\n  }\r\n\r\n  calculateFrame() {\r\n    // calculating max size of single frame if images has different w/h    \r\n    const w = Math.max(...this.images.map(image => image.bitmap.width))\r\n    const h = Math.max(...this.images.map(image => image.bitmap.height))\r\n\r\n    const frame = {\r\n      width: this.useNextPow2 ? nextPow2(w) : w,\r\n      height: this.useNextPow2 ? nextPow2(h) : h\r\n    }\r\n    return frame\r\n  }\r\n\r\n  getOffset(image, frame, pivot) {\r\n    const { width, height } = image.bitmap\r\n\r\n    const offset = {\r\n      x: (frame.width - width) * pivot.x,\r\n      y: (frame.height - height) * pivot.y\r\n    }\r\n    return offset\r\n  }\r\n\r\n  async createGrid(grid, pivot) {\r\n\r\n    this.images = await Promise.all(this.buffers.map(b => Jimp.read(b)))\r\n\r\n    const frame = this.calculateFrame()\r\n\r\n    this.options = {\r\n      grid,\r\n      pivot,\r\n      frame\r\n    }\r\n\r\n    const w = frame.width * grid.x\r\n    const h = frame.height * grid.y\r\n\r\n    const jimp = new Jimp(w, h)\r\n\r\n    for (let y = 0; y < grid.y; y++) {\r\n      for (let x = 0; x < grid.x; x++) {\r\n        const index = y * grid.x + x\r\n        const img = this.images[index]\r\n        if (!img) break\r\n        const offset = this.getOffset(img, frame, pivot)\r\n        const position = {\r\n          x: x * frame.width + offset.x,\r\n          y: y * frame.height + offset.y\r\n        }\r\n        jimp.composite(img, position.x, position.y)\r\n      }\r\n    }\r\n\r\n    return jimp.getBase64Async(Jimp.MIME_PNG)\r\n  }\r\n\r\n  createHorizontal(pivot) {\r\n    const grid = {\r\n      x: this.buffers.length,\r\n      y: 1\r\n    }\r\n    return this.createGrid(grid, pivot)\r\n  }\r\n\r\n  createVertical(pivot) {\r\n    const grid = {\r\n      x: 1,\r\n      y: this.buffers.length\r\n    }\r\n    return this.createGrid(grid, pivot)\r\n  }\r\n}\r\n","import { render } from \"./App.vue?vue&type=template&id=4c69e42c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./style.css?vue&type=style&index=0&lang=css\"\n\nimport exportComponent from \"D:\\\\dev\\\\github\\\\web-development\\\\vue3-sprite-editor\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!./style.css?vue&type=style&index=0&lang=css\""],"sourceRoot":""}